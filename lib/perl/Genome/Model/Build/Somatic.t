#!/gsc/bin/perl

use strict;
use warnings;

BEGIN {
    $ENV{UR_DBI_NO_COMMIT} = 1;
    $ENV{UR_USE_DUMMY_AUTOGENERATED_IDS} = 1;
};

use above "Genome";

use Test::More tests => 5;

use_ok('Genome::Model::Build::Somatic');

#TODO These are builds of apipe-test-01-somatic from two different points in time;
#it would be much better to have test examples that to go on that would perform consistently.
my @example_build_ids = (101802088, 104183257);

my @builds = Genome::Model::Build->get(\@example_build_ids);

for my $build (@builds) {
    isa_ok($build, 'Genome::Model::Build::Somatic', 'got a somatic build for id');

    #Note: This test would fail on some really old builds
    my $inputs = $build->somatic_workflow_inputs;
    ok($inputs, 'Got back somatic inputs');
}
