#!/usr/bin/env perl

use strict;
use warnings;

BEGIN {
    $ENV{UR_DBI_NO_COMMIT} = 1;
    $ENV{UR_USE_DUMMY_AUTOGENERATED_IDS} = 1;
};

use Test::More tests => 5;

use above 'Genome';

use_ok('Genome::DruggableGene::Command::Citation::Create');

my $test_citation_file = __FILE__ . '.input';
my $source_db_name = 'Test_DB_Name';
my $source_db_version = 'Test_DB_Version';

my $create_command = Genome::DruggableGene::Command::Citation::Create->create(
    source_db_name => $source_db_name,
    source_db_version => $source_db_version,
    citation_file => $test_citation_file,
);
ok($create_command, 'constructed create command');
isa_ok($create_command, 'Genome::DruggableGene::Command::Citation::Create');
my $citation = $create_command->execute;
ok($citation, 'command executed successfully');
isa_ok($citation, 'Genome::DruggableGene::Citation', 'command returned a Genome::DruggableGene::Citation');
