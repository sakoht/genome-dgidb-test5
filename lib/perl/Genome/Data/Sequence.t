use strict;
use warnings;

use above "Genome";
use Test::More;

BEGIN { 
    $ENV{UR_DBI_NO_COMMIT} = 1;
    $ENV{UR_USE_DUMMY_AUTOGENERATED_IDS} = 1;
}

use_ok('Genome::Data::Sequence') or die;

my $obj = eval { Genome::Data::Sequence->create(foo => 'bar') };
my $error = $@;
ok($error =~ /Extra parameters/, 'create fails when given extra parameters');

my $seq_string = 'ABCDEFG';
my $seq_name = 'test_seq';
$obj = Genome::Data::Sequence->create(
    sequence_name => $seq_name,
    sequence => $seq_string,
);
ok($obj, 'created object');
ok($obj->isa('Genome::Data::Sequence'), 'object is a Genome::Data::Sequence');

is($obj->sequence_name, $seq_name, 'sequence name of object matches expected');
is($obj->sequence, $seq_string, 'sequence of object matches expected');
is($obj->length, length($seq_string), 'sequence length matches expected');

done_testing();

