#!/gsc/bin/perl

use strict;
use warnings;

use Test::More tests => 8;

use above 'Genome';

BEGIN {
    $ENV{UR_DBI_NO_COMMIT} = 1;
    $ENV{UR_USE_DUMMY_AUTOGENERATED_IDS} = 1;
    use_ok('Genome::InstrumentData');
    use_ok('Genome::InstrumentData::454');
    use_ok('Genome::InstrumentData::Sanger');
    use_ok('Genome::InstrumentData::Solexa');
};

my %seq_plats_and_ids = (
    454     => '2403581188',
    sanger  => '03may05.868pmaa1',
    solexa  => '2338813239',
);

my @rcs = Genome::InstrumentData->get([ values %seq_plats_and_ids ]);
is(scalar(@rcs), 3, "got 3 objects");

my $solexa_instrument_data = Genome::InstrumentData->get(2338813239);
isa_ok($solexa_instrument_data,'Genome::InstrumentData::Solexa');

is($solexa_instrument_data->sample_type,'rna','got expected sample type');
is($solexa_instrument_data->resolve_quality_converter,'sol2sanger','got expected quality converter');

#$HeadURL$
#$Id$
