<?xml version='1.0' standalone='yes'?>
<workflow name="human contamination screening" executor="Workflow::Executor::SerialDeferred" logDir="/gscmnt/sata409/research/mmitreva/edemello/workflow_logs">
    <link fromOperation="input connector"           fromProperty="fastq_file"   toOperation="fastq2fasta"               toProperty="fastq_file" />
    <link fromOperation="input connector"           fromProperty="fasta_file"   toOperation="fastq2fasta"               toProperty="fasta_file" />
    <link fromOperation="input connector"           fromProperty="fasta_file"   toOperation="wait for fastq2fasta"      toProperty="fasta_file" />

    <link fromOperation="fastq2fasta"               fromProperty="result"       toOperation="wait for fastq2fasta"      toProperty="fastq2fasta_complete" /> 

    <link fromOperation="wait for fastq2fasta"      fromProperty="fasta_file"   toOperation="dust"                      toProperty="fasta_file" />

    <link fromOperation="dust"                      fromProperty="dusted_file"  toOperation="output connector"          toProperty="dusted_file" />
    <link fromOperation="dust"                      fromProperty="result"       toOperation="output connector"          toProperty="result" />

    <operation name="fastq2fasta">
        <operationtype commandClass="Genome::Model::Tools::Fastq::ToFasta" typeClass="Workflow::OperationType::Command" />
    </operation>

    <operation name="wait for fastq2fasta">
        <operationtype typeClass="Workflow::OperationType::Block">
            <property>fasta_file</property>
            <property>fastq2fasta_complete</property>
        </operationtype>
    </operation>

    <operation name="dust">
        <operationtype commandClass="Genome::Model::Tools::Fasta::Dust" typeClass="Workflow::OperationType::Command" />
    </operation>

    <operationtype typeClass="Workflow::OperationType::Model">
        <inputproperty>fastq_file</inputproperty>
        <inputproperty>fasta_file</inputproperty>
        <outputproperty>dusted_file</outputproperty>
        <outputproperty>result</outputproperty>
    </operationtype>
</workflow>

