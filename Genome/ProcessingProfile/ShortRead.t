#!/gsc/bin/perl

use strict;
use warnings;

$ENV{UR_DBI_NO_COMMIT} = 1;
$ENV{UR_USE_DUMMY_AUTOGENERATED_IDS} = 1;

use Test::More tests => 10;
use above "Genome";

my $indel_finder = 'maq0_6_3';
my $sample = 'H_GV-933124G-skin1-9017g';
my $dna_type = 'genomic dna';
my $align_dist_threshold = '0';
my $reference_sequence = 'refseq-for-test';
my $genotyper = 'maq0_6_3';
my $read_aligner = 'maq0_6_3';
my $pp_name = 'testing';
my $sequencing_platform = 'solexa';

my $pp = Genome::ProcessingProfile::ShortRead->create(
                                                      indel_finder_name     => $indel_finder,
                                                      dna_type              => $dna_type,
                                                      align_dist_threshold  => $align_dist_threshold,
                                                      reference_sequence_name => $reference_sequence,
                                                      genotyper_name        => $genotyper ,
                                                      read_aligner_name     => $read_aligner,
                                                      name	            => $pp_name,
                                                      sequencing_platform   => $sequencing_platform,
                                                  );
isa_ok($pp,'Genome::ProcessingProfile::ShortRead');

# Test the properties were set and the accessors functionality
is($pp->indel_finder_name,$indel_finder,'indel_finder accessor');
is($pp->dna_type,$dna_type,'dna_type accessor');
is($pp->align_dist_threshold,$align_dist_threshold,'align_dist_threshold accessor');
is($pp->reference_sequence_name,$reference_sequence,'reference_sequence accessor');
is($pp->genotyper_name,$genotyper,'genotyper accessor');
is($pp->read_aligner_name,$read_aligner,'read_aligner accessor');
is($pp->sequencing_platform,$sequencing_platform,'sequencing_platform accessor');
is($pp->name,$pp_name,'name accessor');
is($pp->type_name,'short read','type name accessor');

UR::Context->commit;

exit;
