BEGIN TRANSACTION;
CREATE TABLE run (
    id                      integer not     null primary key,
    sequencing_platform     varchar2(255)   not null, 
    full_path               varchar2(1000)  not null,
    limit_regions           varchar2(32),
    CONSTRAINT fake_mcpk unique(sequencing_platform, full_path, limit_regions)    
);
INSERT INTO "run" VALUES(1, 'solexa', '/gscmnt/sata114/info/medseq/aml/test_data/GERALD_28-01-2007_mhickenb', '1');
INSERT INTO "run" VALUES(10, 'solexa', '/gscmnt/sata191/production/TEST_DATA/000000_HWI-EAS110-0000_00000/Data/C1-27_Firecrest1.8.28_04-09-2007_lims/Bustard1.8.28_04-09-2007_lims/GERALD_28-01-2007_mhickenb', '2');
CREATE TABLE genome_model (
   id integer not null primary key,
   name varchar(255) not null,
   sample_name varchar(255) not null,
   dna_type varchar(255) not null,
   reference_sequence_name varchar(255) not null,
   read_aligner_name varchar(255) not null,
   read_aligner_params varchar(255),
   genotyper_name varchar(255) not null,
   genotyper_params varchar(255),
   indel_finder_name varchar(255),
   indel_finder_params varchar(255),
   read_calibrator_name varchar(255),
   read_calibrator_params varchar(255),
   prior varchar2(255)
);
INSERT INTO "genome_model" VALUES(5, 'test1', 'ley_aml_patient1_tumor', 'whole', 'Homo_sapiens.NCBI36.45.dna.aml.bfa', 'maq', NULL, 'maq', NULL, 'maq', NULL, NULL, NULL, 'none');
INSERT INTO "genome_model" VALUES(6, 'test2', 'ley_aml_patient1_tumor', 'cdna', 'Homo_sapiens.NCBI36.45.dna.aml.bfa', 'maq', NULL, 'maq', NULL, 'maq', NULL, NULL, NULL, 'none');
CREATE TABLE genome_model_event (
 id integer not null primary key,
 model_id integer not null CONSTRAINT event_genome_model REFERENCES genome_model(id),
 run_id integer CONSTRAINT event_run REFERENCES run(id),

 -- these will come via the PSE when integrated, for now they will be part of the command
 event_type varchar2(255) not null,  -- from the command name now
 event_status varchar2(32) not null,
 lsf_job_id varchar2(64),
 date_scheduled timestamp not null,      
 date_completed timestamp,
 user_name varchar2(64) not null
);
INSERT INTO "genome_model_event" VALUES(3, 5, NULL, 'genome-model create', 'completed', NULL, '2007-08-30 22:13:20', NULL, 'ssmith');
INSERT INTO "genome_model_event" VALUES(4, 6, NULL, 'genome-model create', 'completed', NULL, '2007-08-30 22:13:48', NULL, 'ssmith');
CREATE TABLE URMETA_genome_model_id_seq (next_value integer PRIMARY KEY AUTOINCREMENT);
CREATE TABLE URMETA_run_id_seq (next_value integer PRIMARY KEY AUTOINCREMENT);
DELETE FROM sqlite_sequence;
INSERT INTO "sqlite_sequence" VALUES('URMETA_run_id_seq', 10);
INSERT INTO "sqlite_sequence" VALUES('URMETA_genome_model_id_seq', 6);
INSERT INTO "sqlite_sequence" VALUES('URMETA_genome_model_event_id_seq', 4);
CREATE TABLE URMETA_genome_model_event_id_seq (next_value integer PRIMARY KEY AUTOINCREMENT);
COMMIT;
